# EvoCode AI 🚀

**EvoCode AI** — это AI-ассистент для эволюционного улучшения кода на Python. Он автономно анализирует ваш проект, предлагает идеи по рефакторингу, исправлению багов или добавлению тестов, а затем реализует их с помощью конвейера специализированных AI-агентов.

Проект поддерживает два режима работы:
*   **CLI (Command-Line Interface)**: для автоматизации в CI/CD и скриптах.
*   **GUI (Graphical User Interface)**: для интерактивной работы и наглядной демонстрации процесса.

 
*(Это плейсхолдер. Вам стоит сделать скриншот вашего работающего GUI и заменить ссылку)*

## ✨ Ключевые возможности

-   **Адаптивный конвейер агентов**: Сложная цепочка агентов (Ideator, Filter, Planner, Coder, Test Writer, QA) обеспечивает качественный и осмысленный результат.
-   **Безопасность через Git**: EvoCode автоматически создает `git stash` перед началом работы. Если что-то пойдет не так (например, тесты провалятся), все изменения будут безопасно отменены. Успешные изменения коммитятся с AI-сгенерированным сообщением.
-   **Продвинутый GUI на PyQt6**: Полностью кастомный, современный интерфейс с анимированным фоном, визуализацией структуры проекта, логгированием в реальном времени и отображением текущего плана AI.
-   **Надежный клиент API**: Встроенная логика повторных попыток с экспоненциальной задержкой для обработки временных сбоев API Gemini.
-   **Гибкая настройка**: Все системные промпты для агентов вынесены в `config/prompts.yaml`, что позволяет легко адаптировать их поведение под разные задачи.
-   **Строгая типизация и валидация**: Использование Pydantic-моделей для обмена данными между агентами гарантирует стабильность и предсказуемость всего процесса.

## 🛠️ Установка

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/ВАШ_НИКНЕЙМ/EvoCode-AI.git
    cd EvoCode-AI
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```bash
    # Windows
    python -m venv venv
    .\venv\Scripts\activate

    # macOS / Linux
    python -m venv venv
    source venv/bin/activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройте API-ключ:**
    - Создайте файл с именем `.env` в корневой директории проекта.
    - Добавьте в него ваш API-ключ от Google Gemini. Файл `.gitignore` уже настроен так, чтобы ваши секреты не попали в репозиторий.
      ```
      EVOCODE_API_KEY="ВАШ_СЕКРЕТНЫЙ_КЛЮЧ"
      ```

## ⚙️ Использование

### Графический интерфейс (GUI)

Самый простой способ начать. Запустите приложение без аргументов:

```bash
python main.py
```

Или явно укажите режим `gui`:

```bash
python main.py gui
```

В открывшемся окне вы сможете выбрать директорию проекта, настроить количество циклов и запустить процесс, наблюдая за ним в реальном времени.

### Режим командной строки (CLI)

Идеально подходит для автоматизации.

```bash
python main.py cli --project-path /путь/к/вашему/проекту --cycles 3
```

**Аргументы:**
*   `--project-path`: **(обязательный)** Путь к директории проекта, который нужно улучшить.
*   `--cycles`: (опционально) Количество полных циклов улучшений (генерация идеи -> реализация -> коммит). По умолчанию: `1`.
*   `--prompt-config-path`: (опционально) Путь к вашему YAML-файлу с промптами.
*   `--log-file`: (опционально) Путь к файлу для логов.

## 📂 Структура проекта

Вот краткий обзор структуры проекта:

```
EvoCode-AI/
├── config/                 # Конфигурационные файлы
│   ├── cli_arguments.py    # Определения CLI аргументов
│   ├── constants.py        # Ключи и константы конфигурации
│   ├── logging_config.py   # Настройка логгера
│   ├── manager.py          # Менеджер конфигурации
│   ├── prompt_config.py    # Загрузчик промптов
│   ├── prompts.yaml        # Промпты для AI-агентов
│   └── validator.py        # Валидатор конфигурации
│
├── src/                    # Основной исходный код
│   ├── application.py      # Главный класс приложения
│   ├── evocode_core/       # Ядро приложения (не зависит от GUI)
│   │   ├── agents.py       # Иерархия и фабрика AI-агентов
│   │   ├── client.py       # Клиент для Gemini API
│   │   ├── exceptions.py   # Пользовательские исключения
│   │   ├── models.py       # Pydantic-модели (контракты данных)
│   │   ├── orchestrator.py # Управляет всем процессом
│   │   └── tools.py        # Инструменты для агентов (FS, Git)
│   │
│   └── evocode_gui/        # Компоненты GUI на PyQt6
│       ├── main_window.py  # Главное окно
│       ├── worker.py       # Логика для фоновых задач
│       └── ...             # Другие виджеты и компоненты
│
├── .gitignore              # Файлы, игнорируемые Git
├── error_codes.py          # Централизованные коды выхода
├── error_handler.py        # Обработчик ошибок
├── main.py                 # Главная точка входа
└── requirements.txt        # Зависимости проекта
```

## 💻 Стек технологий

*   **Python 3.10+**
*   **Google Gemini API**: для генеративных AI-возможностей.
*   **PyQt6**: для создания кроссплатформенного графического интерфейса.
*   **Pydantic**: для строгой валидации данных от AI.
*   **PyYAML**: для удобной конфигурации промптов.
*   **QTAwesome**: для иконок в GUI.

## 📄 Лицензия

Проект распространяется под лицензией MIT. Подробности можно найти в файле `LICENSE`.